<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula 10 - Autentica√ß√£o e Seguran√ßa | UniFil</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --unifil-orange: #FF8C00;
            --unifil-dark: #4A4A4A;
            --unifil-light: #F5F5F5;
            --unifil-accent: #FF6B35;
            --unifil-gray: #6B6B6B;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--unifil-dark) 0%, #2a2a2a 100%);
            overflow: hidden;
            color: var(--unifil-dark);
        }

        .presentation {
            width: 100vw;
            height: 100vh;
            position: relative;
        }

        .slide {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            display: none;
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .slide.active {
            display: flex;
            opacity: 1;
            transform: translateX(0);
        }

        .slide.prev {
            transform: translateX(-100%);
        }

        .slide-content {
            background: white;
            width: 90%;
            max-width: 1200px;
            height: 90%;
            margin: auto;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        .slide-header {
            background: linear-gradient(135deg, var(--unifil-orange) 0%, var(--unifil-accent) 100%);
            padding: 30px 50px;
            color: white;
            position: relative;
        }

        .slide-header::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 0;
            right: 0;
            height: 40px;
            background: linear-gradient(135deg, var(--unifil-orange) 0%, var(--unifil-accent) 100%);
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0 0);
        }

        .slide-header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .slide-header h2 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .slide-header p {
            font-size: 1.1rem;
            opacity: 0.95;
        }

        .slide-body {
            flex: 1;
            padding: 60px 50px 40px;
            overflow-y: auto;
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin: 30px 0;
        }

        .three-column {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }

        .content-box {
            background: var(--unifil-light);
            padding: 30px;
            border-radius: 15px;
            border-left: 5px solid var(--unifil-orange);
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
        }

        .content-box h3 {
            color: var(--unifil-orange);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .content-box ul {
            list-style: none;
            padding-left: 0;
        }

        .content-box li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .content-box li::before {
            content: '‚Üí';
            position: absolute;
            left: 0;
            color: var(--unifil-orange);
            font-weight: bold;
            font-size: 1.3rem;
        }

        .highlight-box {
            background: linear-gradient(135deg, var(--unifil-orange) 0%, var(--unifil-accent) 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            animation: fadeInUp 0.6s ease-out 0.2s forwards;
            opacity: 0;
        }

        .highlight-box h3 {
            margin-bottom: 15px;
            font-size: 1.6rem;
        }

        .example-card {
            background: white;
            border: 2px solid var(--unifil-orange);
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
        }

        .example-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(255, 140, 0, 0.2);
        }

        .example-card h4 {
            color: var(--unifil-orange);
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .code-block {
            background: var(--unifil-dark);
            color: #00ff00;
            padding: 25px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            margin: 20px 0;
            overflow-x: auto;
            animation: fadeInUp 0.6s ease-out 0.3s forwards;
            opacity: 0;
            border: 2px solid var(--unifil-orange);
            font-size: 0.95rem;
            line-height: 1.5;
            white-space: pre;
        }

        .big-idea {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            font-size: 1.8rem;
            font-weight: 600;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            animation: pulse 2s ease-in-out infinite;
        }

        .key-takeaway {
            background: #FFF3E0;
            border-left: 5px solid var(--unifil-orange);
            padding: 25px 30px;
            margin: 25px 0;
            border-radius: 10px;
            animation: fadeInUp 0.6s ease-out 0.4s forwards;
            opacity: 0;
        }

        .key-takeaway h4 {
            color: var(--unifil-orange);
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
        }

        .comparison-table th {
            background: var(--unifil-orange);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .comparison-table td {
            padding: 15px;
            border-bottom: 1px solid #ddd;
        }

        .comparison-table tr:hover {
            background: var(--unifil-light);
        }

        .analogy-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
        }

        .analogy-box h3 {
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .timeline {
            position: relative;
            padding-left: 40px;
            margin: 30px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: var(--unifil-orange);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            animation: fadeInLeft 0.6s ease-out forwards;
            opacity: 0;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -33px;
            top: 0;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: var(--unifil-orange);
            border: 3px solid white;
            box-shadow: 0 0 0 3px var(--unifil-orange);
        }

        .danger-box {
            background: #FFEBEE;
            border-left: 5px solid #F44336;
            padding: 25px 30px;
            margin: 25px 0;
            border-radius: 10px;
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
        }

        .danger-box h4 {
            color: #F44336;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .jwt-structure {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
        }

        .jwt-part {
            background: white;
            border: 3px solid var(--unifil-orange);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
        }

        .jwt-part h4 {
            color: var(--unifil-orange);
            margin-bottom: 15px;
        }

        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: var(--unifil-orange);
            transition: width 0.3s ease;
            z-index: 1000;
        }

        .navigation {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 15px 30px;
            border-radius: 50px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: flex;
            gap: 20px;
            align-items: center;
            z-index: 100;
        }

        .nav-button {
            background: var(--unifil-orange);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .nav-button:hover:not(:disabled) {
            background: var(--unifil-accent);
            transform: scale(1.05);
        }

        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .slide-counter {
            color: var(--unifil-dark);
            font-weight: 600;
            font-size: 1.1rem;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        /* Responsividade */
        @media (max-width: 768px) {
            .slide-header h1 { font-size: 1.8rem; }
            .slide-header h2 { font-size: 1.4rem; }
            .two-column, .three-column, .jwt-structure { grid-template-columns: 1fr; }
            .slide-body { padding: 40px 30px; }
        }
    </style>
</head>
<body>
    <div class="progress-bar" id="progressBar"></div>
    
    <div class="presentation">
        <!-- SLIDE 1: T√çTULO -->
        <div class="slide active">
            <div class="slide-content">
                <div class="slide-header">
                    <h1>üì± Desenvolvimento de Aplicativos M√≥veis</h1>
                    <p>Cria√ß√£o de API REST B√°sica</p>
                </div>
                <div class="slide-body">
                    <div style="text-align: center; margin-top: 80px;">
                        <h2 style="font-size: 3rem; color: var(--unifil-orange); margin-bottom: 20px; animation: fadeInUp 0.6s ease-out;">
                            Aula 10
                        </h2>
                        <h3 style="font-size: 2rem; color: var(--unifil-dark); margin-bottom: 40px; animation: fadeInUp 0.6s ease-out 0.2s; opacity: 0; animation-fill-mode: forwards;">
                            Autentica√ß√£o e Seguran√ßa com JWT
                        </h3>
                    </div>

                    <div class="two-column" style="margin-top: 60px;">
                        <div class="content-box">
                            <h3>üìÖ Informa√ß√µes</h3>
                            <ul>
                                <li><strong>Data:</strong> Sexta, 13/03/2026</li>
                                <li><strong>Dura√ß√£o:</strong> 1,5 horas</li>
                                <li><strong>Formato:</strong> Te√≥rico + Pr√°tico</li>
                            </ul>
                        </div>

                        <div class="content-box" style="animation-delay: 0.2s;">
                            <h3>üéØ Objetivos</h3>
                            <ul>
                                <li>Entender autentica√ß√£o</li>
                                <li>Implementar JWT</li>
                                <li>Proteger rotas</li>
                            </ul>
                        </div>
                    </div>

                    <div class="highlight-box">
                        <h3>üìö Agenda de Hoje</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-top: 20px;">
                            <div>
                                <strong>üîê Parte 1 (30min)</strong><br>
                                Conceitos e JWT
                            </div>
                            <div>
                                <strong>üë§ Parte 2 (30min)</strong><br>
                                Login e Registro
                            </div>
                            <div>
                                <strong>üõ°Ô∏è Parte 3 (30min)</strong><br>
                                Protegendo rotas
                            </div>
                        </div>
                    </div>

                    <div class="big-idea">
                        "Hoje protegemos nossa API! Seguran√ßa em primeiro lugar! üîê"
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 2: POR QUE AUTENTICA√á√ÉO -->
        <div class="slide">
            <div class="slide-content">
                <div class="slide-header">
                    <h2>‚ùì Por que Precisamos de Autentica√ß√£o?</h2>
                    <p>Seguran√ßa n√£o √© opcional</p>
                </div>
                <div class="slide-body">
                    <div class="analogy-box">
                        <h3>üè† Analogia: Sua Casa</h3>
                        <p style="font-size: 1.15rem; line-height: 1.8;">
                            <strong>API sem autentica√ß√£o = Casa sem porta üö™‚ùå</strong><br>
                            ‚Üí Qualquer pessoa entra<br>
                            ‚Üí Mexe nas suas coisas<br>
                            ‚Üí Rouba, vandaliza, destr√≥i<br><br>
                            <strong>API com autentica√ß√£o = Casa com porta e chave üîë</strong><br>
                            ‚Üí S√≥ quem tem chave entra<br>
                            ‚Üí Voc√™ controla o acesso<br>
                            ‚Üí Seus dados est√£o protegidos
                        </p>
                    </div>

                    <div class="two-column" style="margin-top: 30px;">
                        <div class="danger-box">
                            <h4>‚ùå Sem Autentica√ß√£o</h4>
                            <ul style="list-style: none; padding: 0;">
                                <li style="padding: 8px 0;">üö® Qualquer um pode criar produtos</li>
                                <li style="padding: 8px 0;">üö® Qualquer um pode deletar tudo</li>
                                <li style="padding: 8px 0;">üö® Dados pessoais expostos</li>
                                <li style="padding: 8px 0;">üö® Imposs√≠vel rastrear quem fez o qu√™</li>
                                <li style="padding: 8px 0;">üö® Ataques DDoS f√°ceis</li>
                                <li style="padding: 8px 0;">üö® Concorrentes veem tudo</li>
                            </ul>
                        </div>

                        <div class="content-box" style="animation-delay: 0.2s;">
                            <h3>‚úÖ Com Autentica√ß√£o</h3>
                            <ul>
                                <li><strong>Identifica√ß√£o</strong><br>Saber quem est√° usando</li>
                                <li><strong>Controle de acesso</strong><br>S√≥ autorizados entram</li>
                                <li><strong>Auditoria</strong><br>Rastrear a√ß√µes</li>
                                <li><strong>Prote√ß√£o de dados</strong><br>Privacidade garantida</li>
                                <li><strong>Seguran√ßa</strong><br>Defesa contra ataques</li>
                            </ul>
                        </div>
                    </div>

                    <div class="example-card" style="margin-top: 30px;">
                        <h4>üéØ Cen√°rio Real</h4>
                        <div class="code-block" style="background: white; color: var(--unifil-dark);">
<span style="color: #6A9955;">// Cen√°rio: E-commerce</span>

<span style="color: #F44336;">SEM autentica√ß√£o:</span>
- Qualquer pessoa deleta produtos
- Qualquer um v√™ pedidos de todos
- Imposs√≠vel saber quem comprou
- Caos total! üò±

<span style="color: #4CAF50;">COM autentica√ß√£o:</span>
- S√≥ admin deleta produtos
- Usu√°rio v√™ s√≥ SEUS pedidos
- Sistema sabe quem √© o comprador
- Seguro e organizado! ‚úÖ
                        </div>
                    </div>

                    <div class="key-takeaway">
                        <h4>üí° Regra de Ouro</h4>
                        <p><strong>TODA API em produ√ß√£o PRECISA de autentica√ß√£o!</strong><br>
                        Exceto endpoints p√∫blicos espec√≠ficos (ex: lista de produtos para vitrine).</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 3: AUTENTICA√á√ÉO VS AUTORIZA√á√ÉO -->
        <div class="slide">
            <div class="slide-content">
                <div class="slide-header">
                    <h2>üîê Autentica√ß√£o vs Autoriza√ß√£o</h2>
                    <p>Dois conceitos diferentes!</p>
                </div>
                <div class="slide-body">
                    <div class="two-column">
                        <div class="content-box">
                            <h3>üîë Autentica√ß√£o (Authentication)</h3>
                            <p style="margin-top: 15px; font-size: 1.15rem; line-height: 1.7;">
                                <strong>"QUEM voc√™ √©?"</strong><br><br>
                                Processo de <strong>VERIFICAR IDENTIDADE</strong><br><br>
                                <strong>Pergunta:</strong> Voc√™ √© realmente quem diz ser?<br><br>
                                <strong>Resposta:</strong> Sim! Aqui est√° meu email e senha.<br><br>
                                <strong>Resultado:</strong> Login bem-sucedido ‚úÖ
                            </p>
                        </div>

                        <div class="content-box" style="animation-delay: 0.2s;">
                            <h3>üõ°Ô∏è Autoriza√ß√£o (Authorization)</h3>
                            <p style="margin-top: 15px; font-size: 1.15rem; line-height: 1.7;">
                                <strong>"O QUE voc√™ pode fazer?"</strong><br><br>
                                Processo de <strong>VERIFICAR PERMISS√ïES</strong><br><br>
                                <strong>Pergunta:</strong> Voc√™ tem permiss√£o para isso?<br><br>
                                <strong>Resposta:</strong> Sim! Sou admin.<br><br>
                                <strong>Resultado:</strong> Acesso permitido ‚úÖ
                            </p>
                        </div>
                    </div>

                    <div class="analogy-box" style="margin-top: 30px;">
                        <h3>üé´ Analogia: Show de Rock</h3>
                        <p style="font-size: 1.15rem; line-height: 1.8;">
                            <strong>Autentica√ß√£o = Porteiro verifica seu ingresso üé´</strong><br>
                            ‚Üí "Voc√™ comprou ingresso? Deixa eu ver..."<br>
                            ‚Üí Verifica se o ingresso √© v√°lido<br>
                            ‚Üí OK, voc√™ pode ENTRAR no show!<br><br>
                            <strong>Autoriza√ß√£o = Seguran√ßa verifica seu acesso üöß</strong><br>
                            ‚Üí "Voc√™ tem passe VIP?"<br>
                            ‚Üí Ingresso normal? Fica na √°rea comum<br>
                            ‚Üí VIP? Pode ir pro backstage!
                        </p>
                    </div>

                    <div class="example-card" style="margin-top: 30px;">
                        <h4>üì± Exemplo: App de Banco</h4>
                        <table class="comparison-table">
                            <tr>
                                <th>Etapa</th>
                                <th>Tipo</th>
                                <th>Processo</th>
                            </tr>
                            <tr>
                                <td>1. Login</td>
                                <td style="background: #E3F2FD;"><strong>Autentica√ß√£o</strong></td>
                                <td>Email + senha ‚Üí Confirma identidade</td>
                            </tr>
                            <tr>
                                <td>2. Ver saldo</td>
                                <td style="background: #FFF9C4;"><strong>Autoriza√ß√£o</strong></td>
                                <td>Voc√™ pode ver SUA conta</td>
                            </tr>
                            <tr>
                                <td>3. Transferir</td>
                                <td style="background: #FFF9C4;"><strong>Autoriza√ß√£o</strong></td>
                                <td>Voc√™ pode transferir do SEU saldo</td>
                            </tr>
                            <tr>
                                <td>4. Deletar usu√°rio</td>
                                <td style="background: #FFEBEE;"><strong>Negado!</strong></td>
                                <td>Voc√™ N√ÉO √© admin</td>
                            </tr>
                        </table>
                    </div>

                    <div class="key-takeaway">
                        <h4>üí° Resumindo</h4>
                        <p><strong>Autentica√ß√£o:</strong> Login (quem voc√™ √©)<br>
                        <strong>Autoriza√ß√£o:</strong> Permiss√µes (o que pode fazer)<br><br>
                        Nossa aula foca em <strong>Autentica√ß√£o</strong>!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 4: O QUE √â JWT -->
        <div class="slide">
            <div class="slide-content">
                <div class="slide-header">
                    <h2>üé´ O que √© JWT?</h2>
                    <p>JSON Web Token</p>
                </div>
                <div class="slide-body">
                    <div class="highlight-box">
                        <h3>üéØ JWT = JSON Web Token</h3>
                        <p style="font-size: 1.2rem; margin-top: 15px;">
                            Formato de <strong>token</strong> para transmitir informa√ß√µes de forma segura<br>
                            entre cliente e servidor.<br><br>
                            √â como um <strong>passaporte digital</strong> üõÇ
                        </p>
                    </div>

                    <div class="jwt-structure">
                        <div class="jwt-part">
                            <h4>üìã Header</h4>
                            <p style="margin-top: 10px; line-height: 1.6;">
                                <strong>Metadados</strong><br><br>
                                ‚Ä¢ Tipo: JWT<br>
                                ‚Ä¢ Algoritmo: HS256<br><br>
                                <span style="color: #F44336; font-weight: bold;">Cor: Vermelho</span>
                            </p>
                        </div>

                        <div class="jwt-part" style="animation-delay: 0.2s;">
                            <h4>üì¶ Payload</h4>
                            <p style="margin-top: 10px; line-height: 1.6;">
                                <strong>Dados do usu√°rio</strong><br><br>
                                ‚Ä¢ ID do usu√°rio<br>
                                ‚Ä¢ Email<br>
                                ‚Ä¢ Role (admin/user)<br><br>
                                <span style="color: #9C27B0; font-weight: bold;">Cor: Roxo</span>
                            </p>
                        </div>

                        <div class="jwt-part" style="animation-delay: 0.4s;">
                            <h4>üîè Signature</h4>
                            <p style="margin-top: 10px; line-height: 1.6;">
                                <strong>Assinatura</strong><br><br>
                                ‚Ä¢ Garante integridade<br>
                                ‚Ä¢ N√£o foi alterado<br>
                                ‚Ä¢ Criado pelo servidor<br><br>
                                <span style="color: #00BCD4; font-weight: bold;">Cor: Azul</span>
                            </p>
                        </div>
                    </div>

                    <div class="example-card" style="margin-top: 30px;">
                        <h4>üîç Exemplo de JWT Real</h4>
                        <div class="code-block" style="background: white; color: var(--unifil-dark); font-size: 0.85rem;">
<span style="color: #F44336;">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9</span>.<span style="color: #9C27B0;">eyJ1c2VySWQiOjEsImVtYWlsIjoiam9obkBleGFtcGxlLmNvbSJ9</span>.<span style="color: #00BCD4;">SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c</span>

<span style="color: #6A9955;">// Decodificado:</span>

<span style="color: #F44336;">Header:</span> {
  "alg": "HS256",
  "typ": "JWT"
}

<span style="color: #9C27B0;">Payload:</span> {
  "userId": 1,
  "email": "john@example.com",
  "iat": 1710345600,
  "exp": 1710432000
}

<span style="color: #00BCD4;">Signature:</span> HMACSHA256(
  base64UrlEncode(header) + "." + 
  base64UrlEncode(payload),
  SECRET_KEY
)
                        </div>
                    </div>

                    <div class="two-column" style="margin-top: 30px;">
                        <div class="content-box">
                            <h3>‚úÖ Vantagens JWT</h3>
                            <ul>
                                <li><strong>Stateless</strong><br>Servidor n√£o guarda sess√µes</li>
                                <li><strong>Port√°til</strong><br>Funciona em qualquer plataforma</li>
                                <li><strong>Autocontido</strong><br>Tudo no pr√≥prio token</li>
                                <li><strong>Seguro</strong><br>Assinado e verific√°vel</li>
                            </ul>
                        </div>

                        <div class="content-box" style="animation-delay: 0.2s;">
                            <h3>‚ö†Ô∏è Cuidados</h3>
                            <ul>
                                <li><strong>N√£o guardar senhas</strong><br>S√≥ dados n√£o-sens√≠veis</li>
                                <li><strong>Expira√ß√£o</strong><br>Token deve expirar</li>
                                <li><strong>Secret seguro</strong><br>Chave forte e privada</li>
                                <li><strong>HTTPS obrigat√≥rio</strong><br>Sempre usar SSL</li>
                            </ul>
                        </div>
                    </div>

                    <div class="key-takeaway">
                        <h4>üí° Como Funciona?</h4>
                        <p>1. Usu√°rio faz login ‚Üí 2. Servidor gera JWT ‚Üí 3. Cliente guarda token ‚Üí<br>
                        4. Cliente envia token em cada requisi√ß√£o ‚Üí 5. Servidor valida token</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 5: BCRYPT -->
        <div class="slide">
            <div class="slide-content">
                <div class="slide-header">
                    <h2>üîí Bcrypt - Hash de Senhas</h2>
                    <p>NUNCA guarde senhas em texto puro!</p>
                </div>
                <div class="slide-body">
                    <div class="danger-box">
                        <h4>üö® NUNCA FA√áA ISSO!</h4>
                        <div class="code-block" style="background: white; color: var(--unifil-dark);">
<span style="color: #6A9955;">// ‚ùå‚ùå‚ùå P√âSSIMO! NUNCA! ‚ùå‚ùå‚ùå</span>
<span style="color: #569cd6;">INSERT INTO</span> usuarios (email, senha)
<span style="color: #569cd6;">VALUES</span> (<span style="color: #CE9178;">'user@email.com'</span>, <span style="color: #CE9178;">'senha123'</span>);

<span style="color: #6A9955;">// Banco de dados vazou?</span>
<span style="color: #6A9955;">‚Üí Todos as senhas est√£o EXPOSTAS!</span>
<span style="color: #6A9955;">‚Üí Hackers t√™m acesso DIRETO!</span>
<span style="color: #6A9955;">‚Üí Usu√°rios podem ser hackeados em OUTROS sites!</span>
<span style="color: #6A9955;">‚Üí VOC√ä √© RESPONS√ÅVEL! üò±</span>
                        </div>
                    </div>

                    <div class="analogy-box">
                        <h3>üîê Analogia: Cofre com Combina√ß√£o</h3>
                        <p style="font-size: 1.15rem; line-height: 1.8;">
                            <strong>Senha em texto = Escrever combina√ß√£o na parede üìù</strong><br>
                            ‚Üí Qualquer um que v√™, abre o cofre<br><br>
                            <strong>Senha com hash = Combina√ß√£o s√≥ na sua cabe√ßa üß†</strong><br>
                            ‚Üí Mesmo vendo o cofre, ningu√©m sabe abrir<br>
                            ‚Üí Voc√™ confere se combina√ß√£o bate, sem revelar
                        </p>
                    </div>

                    <div class="two-column" style="margin-top: 30px;">
                        <div class="content-box">
                            <h3>üîí O que √© Hash?</h3>
                            <p style="margin-top: 15px; line-height: 1.7;">
                                <strong>Hash = Transforma√ß√£o irrevers√≠vel</strong><br><br>
                                Transforma texto em string aleat√≥ria<br>
                                que N√ÉO pode ser revertida.<br><br>
                                <code>senha123</code><br>
                                ‚Üì bcrypt ‚Üì<br>
                                <code>$2b$10$N9qo8uLOickgx...</code><br><br>
                                Imposs√≠vel voltar! ‚úÖ
                            </p>
                        </div>

                        <div class="content-box" style="animation-delay: 0.2s;">
                            <h3>üßÇ Salt</h3>
                            <p style="margin-top: 15px; line-height: 1.7;">
                                <strong>Salt = Texto aleat√≥rio adicionado</strong><br><br>
                                Mesmo senha = hash DIFERENTE!<br><br>
                                Usu√°rio A: senha123<br>
                                <code>$2b$10$abc...</code><br><br>
                                Usu√°rio B: senha123<br>
                                <code>$2b$10$xyz...</code><br><br>
                                Protege contra rainbow tables! üõ°Ô∏è
                            </p>
                        </div>
                    </div>

                    <div class="example-card" style="margin-top: 30px;">
                        <h4>üíª Instalando e Usando Bcrypt</h4>
                        <div class="code-block" style="background: #1e1e1e; color: #d4d4d4;">
<span style="color: #6A9955;">// 1. Instalar</span>
npm install bcryptjs

<span style="color: #6A9955;">// 2. Importar</span>
<span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">bcrypt</span> = <span style="color: #DCDCAA;">require</span>(<span style="color: #CE9178;">'bcryptjs'</span>);

<span style="color: #6A9955;">// 3. Hash da senha (CADASTRO)</span>
<span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">senhaPlana</span> = <span style="color: #CE9178;">'senha123'</span>;
<span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">salt</span> = <span style="color: #C586C0;">await</span> bcrypt.<span style="color: #DCDCAA;">genSalt</span>(<span style="color: #B5CEA8;">10</span>); <span style="color: #6A9955;">// 10 = custo</span>
<span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">senhaHash</span> = <span style="color: #C586C0;">await</span> bcrypt.<span style="color: #DCDCAA;">hash</span>(senhaPlana, salt);
<span style="color: #6A9955;">// Resultado: $2b$10$N9qo8uLOickgx2ZmmWZpHuC5Xv8uSJR...</span>

<span style="color: #6A9955;">// 4. Comparar senha (LOGIN)</span>
<span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">senhaDigitada</span> = <span style="color: #CE9178;">'senha123'</span>;
<span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">senhaDoBank</span> = <span style="color: #CE9178;">'$2b$10$N9qo...'</span>; <span style="color: #6A9955;">// do BD</span>
<span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">senhaCorreta</span> = <span style="color: #C586C0;">await</span> bcrypt.<span style="color: #DCDCAA;">compare</span>(senhaDigitada, senhaDoBank);
<span style="color: #6A9955;">// Retorna true ou false</span>
                        </div>
                    </div>

                    <div class="key-takeaway">
                        <h4>üí° Regra de Ouro</h4>
                        <p><strong>SEMPRE</strong> use bcrypt (ou similar) para senhas!<br>
                        <strong>NUNCA</strong> guarde senhas em texto puro!<br>
                        <strong>NUNCA</strong> envie senhas em logs ou responses!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 6: TABELA USUARIOS -->
        <div class="slide">
            <div class="slide-content">
                <div class="slide-header">
                    <h2>üë• Tabela de Usu√°rios</h2>
                    <p>Estrutura do banco</p>
                </div>
                <div class="slide-body">
                    <div class="example-card">
                        <h4>üíª Criando Tabela usuarios</h4>
                        <div class="code-block" style="background: #1e1e1e; color: #d4d4d4;">
<span style="color: #6A9955;">// database.js - Adicionar tabela usuarios</span>

<span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">createUsuarios</span> = <span style="color: #CE9178;">`
    CREATE TABLE IF NOT EXISTS usuarios (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        nome VARCHAR(100) NOT NULL,
        email VARCHAR(100) NOT NULL UNIQUE,
        senha VARCHAR(255) NOT NULL,
        role VARCHAR(20) DEFAULT 'user',
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
    )
`</span>;

db.<span style="color: #DCDCAA;">exec</span>(createUsuarios);

<span style="color: #6A9955;">// Criar √≠ndice no email para buscas r√°pidas</span>
db.<span style="color: #DCDCAA;">exec</span>(<span style="color: #CE9178;">'CREATE INDEX IF NOT EXISTS idx_email ON usuarios(email)'</span>);
                        </div>
                    </div>

                    <div class="two-column" style="margin-top: 30px;">
                        <div class="content-box">
                            <h3>üìã Campos da Tabela</h3>
                            <ul>
                                <li><strong>id</strong><br>Chave prim√°ria, autoincrement</li>
                                <li><strong>nome</strong><br>Nome completo do usu√°rio</li>
                                <li><strong>email</strong><br>UNIQUE! Login do usu√°rio</li>
                                <li><strong>senha</strong><br>Hash bcrypt (255 chars)</li>
                                <li><strong>role</strong><br>user, admin, etc</li>
                                <li><strong>created_at</strong><br>Data de cadastro</li>
                            </ul>
                        </div>

                        <div class="content-box" style="animation-delay: 0.2s;">
                            <h3>üîë Pontos Importantes</h3>
                            <ul>
                                <li><strong>email UNIQUE</strong><br>N√£o pode repetir</li>
                                <li><strong>senha 255 chars</strong><br>Hash bcrypt √© longo</li>
                                <li><strong>role padr√£o 'user'</strong><br>Seguran√ßa: n√£o admin por padr√£o</li>
                                <li><strong>√çndice no email</strong><br>Login mais r√°pido</li>
                                <li><strong>Nunca expor senha</strong><br>Nem em SELECT!</li>
                            </ul>
                        </div>
                    </div>

                    <div class="example-card" style="margin-top: 30px;">
                        <h4>üìä Exemplo de Dados</h4>
                        <table class="comparison-table">
                            <tr>
                                <th>id</th>
                                <th>nome</th>
                                <th>email</th>
                                <th>senha</th>
                                <th>role</th>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>Jo√£o Silva</td>
                                <td>joao@email.com</td>
                                <td style="font-size: 0.7rem;">$2b$10$N9qo8uL...</td>
                                <td>admin</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Maria Santos</td>
                                <td>maria@email.com</td>
                                <td style="font-size: 0.7rem;">$2b$10$xyz123...</td>
                                <td>user</td>
                            </tr>
                        </table>
                    </div>

                    <div class="highlight-box" style="margin-top: 30px;">
                        <h3>üéØ Instalando JWT</h3>
                        <div class="code-block" style="background: white; color: var(--unifil-dark); margin-top: 15px;">
npm install jsonwebtoken bcryptjs
                        </div>
                        <p style="margin-top: 15px; font-size: 1.1rem;">
                            <strong>jsonwebtoken:</strong> Criar e validar tokens<br>
                            <strong>bcryptjs:</strong> Hash de senhas
                        </p>
                    </div>

                    <div class="key-takeaway">
                        <h4>üí° Secret do JWT</h4>
                        <p>Crie uma chave secreta forte e guarde em vari√°vel de ambiente!<br>
                        <code>JWT_SECRET=minhaChaveSuperSecreta123!</code><br>
                        NUNCA commite isso no Git!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 7: REGISTRO DE USU√ÅRIO -->
        <div class="slide">
            <div class="slide-content">
                <div class="slide-header">
                    <h2>üìù POST /auth/register - Cadastro</h2>
                    <p>Criando novo usu√°rio</p>
                </div>
                <div class="slide-body">
                    <div class="example-card">
                        <h4>üíª Endpoint de Registro</h4>
                        <div class="code-block" style="background: #1e1e1e; color: #d4d4d4; font-size: 0.82rem;">
<span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">bcrypt</span> = <span style="color: #DCDCAA;">require</span>(<span style="color: #CE9178;">'bcryptjs'</span>);
<span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">jwt</span> = <span style="color: #DCDCAA;">require</span>(<span style="color: #CE9178;">'jsonwebtoken'</span>);

<span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">JWT_SECRET</span> = <span style="color: #CE9178;">'sua_chave_secreta_aqui'</span>; <span style="color: #6A9955;">// Na pr√°tica: process.env.JWT_SECRET</span>

<span style="color: #6A9955;">// POST /auth/register</span>
app.<span style="color: #DCDCAA;">post</span>(<span style="color: #CE9178;">'/auth/register'</span>, <span style="color: #C586C0;">async</span> (<span style="color: #9CDCFE;">req</span>, <span style="color: #9CDCFE;">res</span>) => {
    <span style="color: #C586C0;">try</span> {
        <span style="color: #C586C0;">const</span> { <span style="color: #9CDCFE;">nome</span>, <span style="color: #9CDCFE;">email</span>, <span style="color: #9CDCFE;">senha</span> } = req.<span style="color: #9CDCFE;">body</span>;
        
        <span style="color: #6A9955;">// 1. Valida√ß√µes</span>
        <span style="color: #C586C0;">if</span> (!nome || !email || !senha) {
            <span style="color: #C586C0;">return</span> res.<span style="color: #DCDCAA;">status</span>(<span style="color: #B5CEA8;">400</span>).<span style="color: #DCDCAA;">json</span>({ <span style="color: #9CDCFE;">erro</span>: <span style="color: #CE9178;">'Campos obrigat√≥rios'</span> });
        }
        
        <span style="color: #C586C0;">if</span> (senha.<span style="color: #9CDCFE;">length</span> < <span style="color: #B5CEA8;">6</span>) {
            <span style="color: #C586C0;">return</span> res.<span style="color: #DCDCAA;">status</span>(<span style="color: #B5CEA8;">400</span>).<span style="color: #DCDCAA;">json</span>({ <span style="color: #9CDCFE;">erro</span>: <span style="color: #CE9178;">'Senha m√≠nimo 6 caracteres'</span> });
        }
        
        <span style="color: #6A9955;">// 2. Verificar se email j√° existe</span>
        <span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">usuarioExiste</span> = db.<span style="color: #DCDCAA;">prepare</span>(
            <span style="color: #CE9178;">'SELECT id FROM usuarios WHERE email = ?'</span>
        ).<span style="color: #DCDCAA;">get</span>(email);
        
        <span style="color: #C586C0;">if</span> (usuarioExiste) {
            <span style="color: #C586C0;">return</span> res.<span style="color: #DCDCAA;">status</span>(<span style="color: #B5CEA8;">400</span>).<span style="color: #DCDCAA;">json</span>({ <span style="color: #9CDCFE;">erro</span>: <span style="color: #CE9178;">'Email j√° cadastrado'</span> });
        }
        
        <span style="color: #6A9955;">// 3. Hash da senha</span>
        <span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">salt</span> = <span style="color: #C586C0;">await</span> bcrypt.<span style="color: #DCDCAA;">genSalt</span>(<span style="color: #B5CEA8;">10</span>);
        <span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">senhaHash</span> = <span style="color: #C586C0;">await</span> bcrypt.<span style="color: #DCDCAA;">hash</span>(senha, salt);
        
        <span style="color: #6A9955;">// 4. Inserir usu√°rio</span>
        <span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">result</span> = db.<span style="color: #DCDCAA;">prepare</span>(<span style="color: #CE9178;">`
            INSERT INTO usuarios (nome, email, senha)
            VALUES (?, ?, ?)
        `</span>).<span style="color: #DCDCAA;">run</span>(nome, email, senhaHash);
        
        <span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">userId</span> = result.<span style="color: #9CDCFE;">lastInsertRowid</span>;
        
        <span style="color: #6A9955;">// 5. Gerar token JWT</span>
        <span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">token</span> = jwt.<span style="color: #DCDCAA;">sign</span>(
            { <span style="color: #9CDCFE;">userId</span>, <span style="color: #9CDCFE;">email</span> }, <span style="color: #6A9955;">// payload</span>
            JWT_SECRET,                <span style="color: #6A9955;">// secret</span>
            { <span style="color: #9CDCFE;">expiresIn</span>: <span style="color: #CE9178;">'24h'</span> }     <span style="color: #6A9955;">// expira em 24h</span>
        );
        
        <span style="color: #6A9955;">// 6. Retornar token + dados (SEM senha!)</span>
        res.<span style="color: #DCDCAA;">status</span>(<span style="color: #B5CEA8;">201</span>).<span style="color: #DCDCAA;">json</span>({
            <span style="color: #9CDCFE;">mensagem</span>: <span style="color: #CE9178;">'Usu√°rio criado com sucesso'</span>,
            <span style="color: #9CDCFE;">token</span>,
            <span style="color: #9CDCFE;">usuario</span>: { <span style="color: #9CDCFE;">id</span>: userId, <span style="color: #9CDCFE;">nome</span>, <span style="color: #9CDCFE;">email</span> }
        });
    } <span style="color: #C586C0;">catch</span> (<span style="color: #9CDCFE;">error</span>) {
        <span style="color: #9CDCFE;">console</span>.<span style="color: #DCDCAA;">error</span>(error);
        res.<span style="color: #DCDCAA;">status</span>(<span style="color: #B5CEA8;">500</span>).<span style="color: #DCDCAA;">json</span>({ <span style="color: #9CDCFE;">erro</span>: <span style="color: #CE9178;">'Erro ao criar usu√°rio'</span> });
    }
});
                        </div>
                    </div>

                    <div class="timeline" style="margin-top: 30px;">
                        <div class="timeline-item">
                            <h4 style="color: var(--unifil-orange);">1Ô∏è‚É£ Validar dados</h4>
                            <p>Campos obrigat√≥rios, senha m√≠nima</p>
                        </div>
                        <div class="timeline-item" style="animation-delay: 0.2s;">
                            <h4 style="color: var(--unifil-orange);">2Ô∏è‚É£ Verificar email √∫nico</h4>
                            <p>Email j√° existe? 400</p>
                        </div>
                        <div class="timeline-item" style="animation-delay: 0.4s;">
                            <h4 style="color: var(--unifil-orange);">3Ô∏è‚É£ Hash da senha</h4>
                            <p>bcrypt.hash() - NUNCA guardar texto puro</p>
                        </div>
                        <div class="timeline-item" style="animation-delay: 0.6s;">
                            <h4 style="color: var(--unifil-orange);">4Ô∏è‚É£ Inserir no banco</h4>
                            <p>INSERT com senha hashada</p>
                        </div>
                        <div class="timeline-item" style="animation-delay: 0.8s;">
                            <h4 style="color: var(--unifil-orange);">5Ô∏è‚É£ Gerar JWT</h4>
                            <p>jwt.sign() com userId e email</p>
                        </div>
                        <div class="timeline-item" style="animation-delay: 1s;">
                            <h4 style="color: var(--unifil-orange);">6Ô∏è‚É£ Retornar token</h4>
                            <p>Cliente guarda para pr√≥ximas requisi√ß√µes</p>
                        </div>
                    </div>

                    <div class="key-takeaway">
                        <h4>üí° Por que j√° retornar token?</h4>
                        <p>Ap√≥s cadastrar, usu√°rio j√° fica logado automaticamente!<br>
                        Melhor UX - n√£o precisa fazer login separado.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 8: LOGIN -->
        <div class="slide">
            <div class="slide-content">
                <div class="slide-header">
                    <h2>üîë POST /auth/login - Login</h2>
                    <p>Autenticando usu√°rio existente</p>
                </div>
                <div class="slide-body">
                    <div class="example-card">
                        <h4>üíª Endpoint de Login</h4>
                        <div class="code-block" style="background: #1e1e1e; color: #d4d4d4; font-size: 0.85rem;">
<span style="color: #6A9955;">// POST /auth/login</span>
app.<span style="color: #DCDCAA;">post</span>(<span style="color: #CE9178;">'/auth/login'</span>, <span style="color: #C586C0;">async</span> (<span style="color: #9CDCFE;">req</span>, <span style="color: #9CDCFE;">res</span>) => {
    <span style="color: #C586C0;">try</span> {
        <span style="color: #C586C0;">const</span> { <span style="color: #9CDCFE;">email</span>, <span style="color: #9CDCFE;">senha</span> } = req.<span style="color: #9CDCFE;">body</span>;
        
        <span style="color: #6A9955;">// 1. Valida√ß√µes</span>
        <span style="color: #C586C0;">if</span> (!email || !senha) {
            <span style="color: #C586C0;">return</span> res.<span style="color: #DCDCAA;">status</span>(<span style="color: #B5CEA8;">400</span>).<span style="color: #DCDCAA;">json</span>({ <span style="color: #9CDCFE;">erro</span>: <span style="color: #CE9178;">'Email e senha obrigat√≥rios'</span> });
        }
        
        <span style="color: #6A9955;">// 2. Buscar usu√°rio por email</span>
        <span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">usuario</span> = db.<span style="color: #DCDCAA;">prepare</span>(
            <span style="color: #CE9178;">'SELECT * FROM usuarios WHERE email = ?'</span>
        ).<span style="color: #DCDCAA;">get</span>(email);
        
        <span style="color: #C586C0;">if</span> (!usuario) {
            <span style="color: #C586C0;">return</span> res.<span style="color: #DCDCAA;">status</span>(<span style="color: #B5CEA8;">401</span>).<span style="color: #DCDCAA;">json</span>({ <span style="color: #9CDCFE;">erro</span>: <span style="color: #CE9178;">'Email ou senha incorretos'</span> });
        }
        
        <span style="color: #6A9955;">// 3. Comparar senhas</span>
        <span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">senhaCorreta</span> = <span style="color: #C586C0;">await</span> bcrypt.<span style="color: #DCDCAA;">compare</span>(senha, usuario.<span style="color: #9CDCFE;">senha</span>);
        
        <span style="color: #C586C0;">if</span> (!senhaCorreta) {
            <span style="color: #C586C0;">return</span> res.<span style="color: #DCDCAA;">status</span>(<span style="color: #B5CEA8;">401</span>).<span style="color: #DCDCAA;">json</span>({ <span style="color: #9CDCFE;">erro</span>: <span style="color: #CE9178;">'Email ou senha incorretos'</span> });
        }
        
        <span style="color: #6A9955;">// 4. Gerar token JWT</span>
        <span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">token</span> = jwt.<span style="color: #DCDCAA;">sign</span>(
            { <span style="color: #9CDCFE;">userId</span>: usuario.<span style="color: #9CDCFE;">id</span>, <span style="color: #9CDCFE;">email</span>: usuario.<span style="color: #9CDCFE;">email</span>, <span style="color: #9CDCFE;">role</span>: usuario.<span style="color: #9CDCFE;">role</span> },
            JWT_SECRET,
            { <span style="color: #9CDCFE;">expiresIn</span>: <span style="color: #CE9178;">'24h'</span> }
        );
        
        <span style="color: #6A9955;">// 5. Retornar token + dados (SEM senha!)</span>
        res.<span style="color: #DCDCAA;">json</span>({
            <span style="color: #9CDCFE;">mensagem</span>: <span style="color: #CE9178;">'Login realizado com sucesso'</span>,
            <span style="color: #9CDCFE;">token</span>,
            <span style="color: #9CDCFE;">usuario</span>: {
                <span style="color: #9CDCFE;">id</span>: usuario.<span style="color: #9CDCFE;">id</span>,
                <span style="color: #9CDCFE;">nome</span>: usuario.<span style="color: #9CDCFE;">nome</span>,
                <span style="color: #9CDCFE;">email</span>: usuario.<span style="color: #9CDCFE;">email</span>,
                <span style="color: #9CDCFE;">role</span>: usuario.<span style="color: #9CDCFE;">role</span>
            }
        });
    } <span style="color: #C586C0;">catch</span> (<span style="color: #9CDCFE;">error</span>) {
        <span style="color: #9CDCFE;">console</span>.<span style="color: #DCDCAA;">error</span>(error);
        res.<span style="color: #DCDCAA;">status</span>(<span style="color: #B5CEA8;">500</span>).<span style="color: #DCDCAA;">json</span>({ <span style="color: #9CDCFE;">erro</span>: <span style="color: #CE9178;">'Erro no login'</span> });
    }
});
                        </div>
                    </div>

                    <div class="two-column" style="margin-top: 30px;">
                        <div class="content-box">
                            <h3>‚úÖ Login Bem-Sucedido</h3>
                            <div class="code-block" style="background: white; color: var(--unifil-dark); font-size: 0.85rem;">
POST /auth/login

{
  "email": "joao@email.com",
  "senha": "senha123"
}

<span style="color: #4CAF50;">200 OK</span>
{
  "mensagem": "Login realizado...",
  "token": "eyJhbGci...",
  "usuario": {
    "id": 1,
    "nome": "Jo√£o Silva",
    "email": "joao@email.com",
    "role": "user"
  }
}
                            </div>
                        </div>

                        <div class="content-box" style="animation-delay: 0.2s;">
                            <h3>‚ùå Login Falhou</h3>
                            <div class="code-block" style="background: white; color: var(--unifil-dark); font-size: 0.85rem;">
POST /auth/login

{
  "email": "joao@email.com",
  "senha": "senhaERRADA"
}

<span style="color: #F44336;">401 Unauthorized</span>
{
  "erro": "Email ou senha 
          incorretos"
}
                            </div>
                        </div>
                    </div>

                    <div class="danger-box" style="margin-top: 30px;">
                        <h4>üîí Seguran√ßa: Mensagem Gen√©rica</h4>
                        <p>SEMPRE retornar "Email ou senha incorretos"<br>
                        <strong>NUNCA:</strong> "Email n√£o encontrado" ou "Senha incorreta"<br>
                        <strong>Por qu√™?</strong> Atacantes n√£o podem descobrir emails v√°lidos!</p>
                    </div>

                    <div class="key-takeaway">
                        <h4>üí° Status 401 Unauthorized</h4>
                        <p>Credenciais inv√°lidas = 401 (n√£o 400!)<br>
                        400 = dados mal formatados<br>
                        401 = autentica√ß√£o falhou</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 9: MIDDLEWARE AUTENTICA√á√ÉO -->
        <div class="slide">
            <div class="slide-content">
                <div class="slide-header">
                    <h2>üõ°Ô∏è Middleware de Autentica√ß√£o</h2>
                    <p>Protegendo rotas</p>
                </div>
                <div class="slide-body">
                    <div class="example-card">
                        <h4>üíª Criando Middleware</h4>
                        <div class="code-block" style="background: #1e1e1e; color: #d4d4d4; font-size: 0.88rem;">
<span style="color: #6A9955;">// middleware/auth.js</span>
<span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">jwt</span> = <span style="color: #DCDCAA;">require</span>(<span style="color: #CE9178;">'jsonwebtoken'</span>);
<span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">JWT_SECRET</span> = <span style="color: #CE9178;">'sua_chave_secreta'</span>;

<span style="color: #C586C0;">function</span> <span style="color: #DCDCAA;">autenticar</span>(<span style="color: #9CDCFE;">req</span>, <span style="color: #9CDCFE;">res</span>, <span style="color: #9CDCFE;">next</span>) {
    <span style="color: #6A9955;">// 1. Pegar token do header Authorization</span>
    <span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">authHeader</span> = req.<span style="color: #9CDCFE;">headers</span>[<span style="color: #CE9178;">'authorization'</span>];
    
    <span style="color: #C586C0;">if</span> (!authHeader) {
        <span style="color: #C586C0;">return</span> res.<span style="color: #DCDCAA;">status</span>(<span style="color: #B5CEA8;">401</span>).<span style="color: #DCDCAA;">json</span>({ <span style="color: #9CDCFE;">erro</span>: <span style="color: #CE9178;">'Token n√£o fornecido'</span> });
    }
    
    <span style="color: #6A9955;">// 2. Formato esperado: "Bearer eyJhbGci..."</span>
    <span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">parts</span> = authHeader.<span style="color: #DCDCAA;">split</span>(<span style="color: #CE9178;">' '</span>);
    
    <span style="color: #C586C0;">if</span> (parts.<span style="color: #9CDCFE;">length</span> !== <span style="color: #B5CEA8;">2</span>) {
        <span style="color: #C586C0;">return</span> res.<span style="color: #DCDCAA;">status</span>(<span style="color: #B5CEA8;">401</span>).<span style="color: #DCDCAA;">json</span>({ <span style="color: #9CDCFE;">erro</span>: <span style="color: #CE9178;">'Token mal formatado'</span> });
    }
    
    <span style="color: #C586C0;">const</span> [<span style="color: #9CDCFE;">scheme</span>, <span style="color: #9CDCFE;">token</span>] = parts;
    
    <span style="color: #C586C0;">if</span> (!/^Bearer$/i.<span style="color: #DCDCAA;">test</span>(scheme)) {
        <span style="color: #C586C0;">return</span> res.<span style="color: #DCDCAA;">status</span>(<span style="color: #B5CEA8;">401</span>).<span style="color: #DCDCAA;">json</span>({ <span style="color: #9CDCFE;">erro</span>: <span style="color: #CE9178;">'Token mal formatado'</span> });
    }
    
    <span style="color: #6A9955;">// 3. Verificar e decodificar token</span>
    jwt.<span style="color: #DCDCAA;">verify</span>(token, JWT_SECRET, (<span style="color: #9CDCFE;">err</span>, <span style="color: #9CDCFE;">decoded</span>) => {
        <span style="color: #C586C0;">if</span> (err) {
            <span style="color: #C586C0;">return</span> res.<span style="color: #DCDCAA;">status</span>(<span style="color: #B5CEA8;">401</span>).<span style="color: #DCDCAA;">json</span>({ <span style="color: #9CDCFE;">erro</span>: <span style="color: #CE9178;">'Token inv√°lido ou expirado'</span> });
        }
        
        <span style="color: #6A9955;">// 4. Adicionar userId ao req para uso nas rotas</span>
        req.<span style="color: #9CDCFE;">userId</span> = decoded.<span style="color: #9CDCFE;">userId</span>;
        req.<span style="color: #9CDCFE;">userEmail</span> = decoded.<span style="color: #9CDCFE;">email</span>;
        req.<span style="color: #9CDCFE;">userRole</span> = decoded.<span style="color: #9CDCFE;">role</span>;
        
        <span style="color: #6A9955;">// 5. Continuar para pr√≥ximo middleware/rota</span>
        <span style="color: #DCDCAA;">next</span>();
    });
}

<span style="color: #9CDCFE;">module</span>.<span style="color: #9CDCFE;">exports</span> = autenticar;
                        </div>
                    </div>

                    <div class="example-card" style="margin-top: 30px;">
                        <h4>üîê Usando o Middleware</h4>
                        <div class="code-block" style="background: #1e1e1e; color: #d4d4d4;">
<span style="color: #C586C0;">const</span> <span style="color: #9CDCFE;">autenticar</span> = <span style="color: #DCDCAA;">require</span>(<span style="color: #CE9178;">'./middleware/auth'</span>);

<span style="color: #6A9955;">// Rota P√öBLICA - sem middleware</span>
app.<span style="color: #DCDCAA;">get</span>(<span style="color: #CE9178;">'/api/produtos'</span>, (<span style="color: #9CDCFE;">req</span>, <span style="color: #9CDCFE;">res</span>) => {
    <span style="color: #6A9955;">// Qualquer um pode ver produtos</span>
});

<span style="color: #6A9955;">// Rota PROTEGIDA - com middleware</span>
app.<span style="color: #DCDCAA;">post</span>(<span style="color: #CE9178;">'/api/produtos'</span>, <span style="color: #9CDCFE;">autenticar</span>, (<span style="color: #9CDCFE;">req</span>, <span style="color: #9CDCFE;">res</span>) => {
    <span style="color: #6A9955;">// S√≥ usu√°rios autenticados podem criar</span>
    <span style="color: #9CDCFE;">console</span>.<span style="color: #DCDCAA;">log</span>(<span style="color: #CE9178;">'Usu√°rio logado:'</span>, req.<span style="color: #9CDCFE;">userId</span>);
    <span style="color: #6A9955;">// ...</span>
});

<span style="color: #6A9955;">// Proteger m√∫ltiplas rotas</span>
app.<span style="color: #DCDCAA;">put</span>(<span style="color: #CE9178;">'/api/produtos/:id'</span>, <span style="color: #9CDCFE;">autenticar</span>, ...);
app.<span style="color: #DCDCAA;">delete</span>(<span style="color: #CE9178;">'/api/produtos/:id'</span>, <span style="color: #9CDCFE;">autenticar</span>, ...);
                        </div>
                    </div>

                    <div class="two-column" style="margin-top: 30px;">
                        <div class="content-box">
                            <h3>‚úÖ Request com Token</h3>
                            <div class="code-block" style="background: white; color: var(--unifil-dark); font-size: 0.85rem;">
POST /api/produtos
Authorization: Bearer eyJhbGci...

{
  "nome": "Produto X",
  "preco": 100
}

<span style="color: #4CAF50;">‚úÖ Middleware libera!</span>
req.userId est√° dispon√≠vel!
                            </div>
                        </div>

                        <div class="content-box" style="animation-delay: 0.2s;">
                            <h3>‚ùå Request sem Token</h3>
                            <div class="code-block" style="background: white; color: var(--unifil-dark); font-size: 0.85rem;">
POST /api/produtos

{
  "nome": "Produto X",
  "preco": 100
}

<span style="color: #F44336;">401 Unauthorized</span>
{
  "erro": "Token n√£o fornecido"
}
                            </div>
                        </div>
                    </div>

                    <div class="key-takeaway">
                        <h4>üí° Header Authorization</h4>
                        <p>Formato padr√£o: <code>Authorization: Bearer {token}</code><br>
                        Cliente deve enviar em TODA requisi√ß√£o protegida!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 10: FLUXO COMPLETO -->
        <div class="slide">
            <div class="slide-content">
                <div class="slide-header">
                    <h2>üîÑ Fluxo Completo de Autentica√ß√£o</h2>
                    <p>Do cadastro √† requisi√ß√£o protegida</p>
                </div>
                <div class="slide-body">
                    <div class="timeline">
                        <div class="timeline-item">
                            <h4 style="color: var(--unifil-orange);">1Ô∏è‚É£ Cadastro</h4>
                            <p>POST /auth/register ‚Üí Cria usu√°rio + retorna token</p>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.2s;">
                            <h4 style="color: var(--unifil-orange);">2Ô∏è‚É£ Cliente guarda token</h4>
                            <p>localStorage, sessionStorage, ou vari√°vel</p>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.4s;">
                            <h4 style="color: var(--unifil-orange);">3Ô∏è‚É£ Requisi√ß√£o protegida</h4>
                            <p>Cliente envia: Authorization: Bearer {token}</p>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.6s;">
                            <h4 style="color: var(--unifil-orange);">4Ô∏è‚É£ Middleware valida</h4>
                            <p>jwt.verify() ‚Üí Decodifica e valida token</p>
                        </div>

                        <div class="timeline-item" style="animation-delay: 0.8s;">
                            <h4 style="color: var(--unifil-orange);">5Ô∏è‚É£ Rota usa dados</h4>
                            <p>req.userId dispon√≠vel ‚Üí Identifica usu√°rio</p>
                        </div>

                        <div class="timeline-item" style="animation-delay: 1s;">
                            <h4 style="color: var(--unifil-orange);">6Ô∏è‚É£ Token expira</h4>
                            <p>Ap√≥s 24h ‚Üí Cliente faz login novamente</p>
                        </div>
                    </div>

                    <div class="example-card" style="margin-top: 30px;">
                        <h4>üéØ Exemplo Pr√°tico Completo</h4>
                        <div class="code-block" style="background: white; color: var(--unifil-dark); font-size: 0.82rem;">
<span style="color: #6A9955;">// 1. CADASTRO</span>
POST /auth/register
{ "nome": "Jo√£o", "email": "joao@email.com", "senha": "senha123" }

‚Üí <span style="color: #4CAF50;">Resposta: { "token": "eyJhbGci...", "usuario": {...} }</span>

<span style="color: #6A9955;">// 2. Cliente guarda token</span>
localStorage.setItem('token', 'eyJhbGci...');

<span style="color: #6A9955;">// 3. CRIAR PRODUTO (protegido)</span>
POST /api/produtos
Authorization: Bearer eyJhbGci...
{ "nome": "Mouse", "preco": 150 }

‚Üí <span style="color: #4CAF50;">Middleware libera! Produto criado!</span>

<span style="color: #6A9955;">// 4. VER MEU PERFIL (protegido)</span>
GET /api/perfil
Authorization: Bearer eyJhbGci...

‚Üí <span style="color: #4CAF50;">Servidor usa req.userId para buscar dados</span>

<span style="color: #6A9955;">// 5. Token expirou (24h depois)</span>
POST /api/produtos
Authorization: Bearer eyJhbGci...(expirado)

‚Üí <span style="color: #F44336;">401: Token inv√°lido ou expirado</span>

<span style="color: #6A9955;">// 6. LOGIN novamente</span>
POST /auth/login
{ "email": "joao@email.com", "senha": "senha123" }

‚Üí <span style="color: #4CAF50;">Novo token! Continua usando API</span>
                        </div>
                    </div>

                    <div class="highlight-box" style="margin-top: 30px;">
                        <h3>üéØ Testando no Postman</h3>
                        <ol style="padding-left: 20px; margin-top: 15px; font-size: 1.1rem; line-height: 2;">
                            <li>Fazer login ‚Üí Copiar token da resposta</li>
                            <li>Nova requisi√ß√£o ‚Üí Aba "Authorization"</li>
                            <li>Type: "Bearer Token"</li>
                            <li>Colar token no campo</li>
                            <li>Enviar requisi√ß√£o ‚Üí Funcionou! ‚úÖ</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 11: RESUMO -->
        <div class="slide">
            <div class="slide-content">
                <div class="slide-header">
                    <h2>üéØ Resumo e Pr√≥ximos Passos</h2>
                    <p>O que conquistamos hoje</p>
                </div>
                <div class="slide-body">
                    <div class="big-idea">
                        API Segura e Profissional! üîêüéâ
                    </div>

                    <div class="two-column" style="margin-top: 40px;">
                        <div class="content-box">
                            <h3>‚úÖ Hoje Implementamos</h3>
                            <ul>
                                <li>Autentica√ß√£o vs Autoriza√ß√£o</li>
                                <li>JWT (JSON Web Tokens)</li>
                                <li>Bcrypt para senhas</li>
                                <li>Tabela de usu√°rios</li>
                                <li>POST /auth/register</li>
                                <li>POST /auth/login</li>
                                <li>Middleware autenticar</li>
                                <li>Rotas protegidas</li>
                            </ul>
                        </div>

                        <div class="content-box" style="animation-delay: 0.2s;">
                            <h3>üéØ Agora Voc√™ Sabe</h3>
                            <ul>
                                <li>Proteger APIs com JWT</li>
                                <li>Hash seguro de senhas</li>
                                <li>Criar sistema login/cadastro</li>
                                <li>Validar tokens</li>
                                <li>Identificar usu√°rios</li>
                                <li>Implementar seguran√ßa</li>
                                <li>API pronta para produ√ß√£o! üöÄ</li>
                            </ul>
                        </div>
                    </div>

                    <div class="highlight-box" style="margin-top: 40px; background: linear-gradient(135deg, #F44336 0%, #E91E63 100%);">
                        <h3>‚è∞ LEMBRETE: PROJETO FINAL - ENTREGA SEGUNDA!</h3>
                        <p style="font-size: 1.2rem; margin-top: 15px;">
                            <strong>Segunda, 16/03/2026 - √öLTIMO DIA!</strong><br><br>
                            ‚Ä¢ API REST completa<br>
                            ‚Ä¢ CRUD + Relacionamentos<br>
                            ‚Ä¢ <strong>Autentica√ß√£o (se poss√≠vel!)</strong><br>
                            ‚Ä¢ Documenta√ß√£o completa<br>
                            ‚Ä¢ Vale 50 pontos!<br><br>
                            <strong>Formato:</strong> Link do reposit√≥rio Git
                        </p>
                    </div>

                    <div class="two-column" style="margin-top: 30px;">
                        <div class="content-box">
                            <h3>üí° Dicas Finais</h3>
                            <ul>
                                <li>JWT_SECRET em .env</li>
                                <li>Nunca commitar senhas</li>
                                <li>HTTPS em produ√ß√£o</li>
                                <li>Expira√ß√£o de tokens</li>
                                <li>Valida√ß√µes robustas</li>
                                <li>Mensagens gen√©ricas erro</li>
                            </ul>
                        </div>

                        <div class="content-box" style="animation-delay: 0.2s;">
                            <h3>üìö Pr√≥ximos T√≥picos</h3>
                            <ul>
                                <li>Refresh tokens</li>
                                <li>Autoriza√ß√£o (roles)</li>
                                <li>OAuth2 / Social login</li>
                                <li>Rate limiting</li>
                                <li>CORS</li>
                                <li>Deploy em produ√ß√£o</li>
                            </ul>
                        </div>
                    </div>

                    <div class="big-idea" style="margin-top: 40px; background: linear-gradient(135deg, var(--unifil-orange) 0%, var(--unifil-accent) 100%);">
                        "Seguran√ßa n√£o √© opcional! Sempre proteja suas APIs!" üõ°Ô∏è
                    </div>

                    <div style="text-align: center; margin-top: 40px; color: var(--unifil-gray);">
                        <p style="font-size: 1.2rem;">Parab√©ns pelo curso completo! üéä</p>
                        <p style="font-size: 1rem; margin-top: 10px;">Voc√™ domina APIs REST profissionais!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- NAVEGA√á√ÉO -->
        <div class="navigation">
            <button class="nav-button" id="prevBtn" onclick="changeSlide(-1)">‚Üê Anterior</button>
            <span class="slide-counter" id="slideCounter">1 / 11</span>
            <button class="nav-button" id="nextBtn" onclick="changeSlide(1)">Pr√≥ximo ‚Üí</button>
        </div>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;

        function showSlide(n) {
            slides.forEach(slide => {
                slide.classList.remove('active', 'prev');
            });

            currentSlide = (n + totalSlides) % totalSlides;
            slides[currentSlide].classList.add('active');

            document.getElementById('slideCounter').textContent = `${currentSlide + 1} / ${totalSlides}`;
            document.getElementById('prevBtn').disabled = currentSlide === 0;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides - 1;

            const progress = ((currentSlide + 1) / totalSlides) * 100;
            document.getElementById('progressBar').style.width = progress + '%';

            const activeSlide = slides[currentSlide];
            const animatedElements = activeSlide.querySelectorAll('.content-box, .example-card, .highlight-box, .code-block, .big-idea, .key-takeaway, .comparison-table, .analogy-box, .timeline-item, .danger-box, .jwt-part');
            animatedElements.forEach(el => {
                el.style.animation = 'none';
                setTimeout(() => {
                    el.style.animation = '';
                }, 10);
            });
        }

        function changeSlide(direction) {
            if (currentSlide + direction >= 0 && currentSlide + direction < totalSlides) {
                showSlide(currentSlide + direction);
            }
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') changeSlide(-1);
            if (e.key === 'ArrowRight') changeSlide(1);
        });

        showSlide(0);
    </script>
</body>
</html>
